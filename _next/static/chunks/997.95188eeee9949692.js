!function(){var e={8997:function(e,t,n){"use strict";var r=n(7383),i=n.n(r),a={phase:"preEvent",action:"",time:0,messages:["The news has been weird lately. I feel like I should prepare."],upgrades:{},timedUpgrades:{},timeline:[],resources:{things:0,savedTime:1},multiplier:1,timers:{action:0,event:0,things:0},loops:0},o=[{phase:"preEvent",key:"upgradeThings",name:"Make things faster",description:"",max:100,costs:{things:function(e){return 10*e}},effect:{type:"add",things:function(e,t){return e*(t+1)}},flavorTexts:{1:"Set up something to make things faster."},requirements:{}},{phase:"postEvent",key:"postUpgradeThings",name:"Improve thing construction",description:"Use future tech to make things faster than ever before",max:10,costs:{savedTime:function(e){return 1*e}},effect:{type:"add",things:function(e,t){return e*(t+1)}},flavorTexts:{1:"Upgrade from the future!"},requirements:{}}],s=function(e){var t=o.find((function(t){return t.key===e}));if(!t)throw new Error("Could not find an upgrade with key: ".concat(e));return t},u=n(1882),c=n(8253),f=n(5170),l=n.n(f),v=function(e,t){switch(t.type){case"BUY_UPGRADE":var n,r=t.payload.key,i=e.resources,a=e.upgrades,o=null!==(n=a[r])&&void 0!==n?n:0,u=o+1,c=s(r),f=!0,l=!1,v=void 0;try{for(var p,h=Object.keys(c.costs)[Symbol.iterator]();!(f=(p=h.next()).done);f=!0){var d=p.value,m=c.costs[d];if(m&&m(u)>i[d])return}}catch(I){l=!0,v=I}finally{try{f||null==h.return||h.return()}finally{if(l)throw v}}if(o<c.max){var y=!0,g=!1,w=void 0;try{for(var b,E=Object.keys(c.costs)[Symbol.iterator]();!(y=(b=E.next()).done);y=!0){var x,k,O,T=b.value;e.resources[T]-=null!==(O=null===(k=(x=c.costs)[T])||void 0===k?void 0:k.call(x,u))&&void 0!==O?O:0}}catch(I){g=!0,w=I}finally{try{y||null==E.return||E.return()}finally{if(g)throw w}}a[r]=u,e.timeline.push({time:e.time,action:t})}break;case"SET_MULTIPLIER":e.multiplier=t.payload.multiplier}},p=n(567);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=new Date(1997,7,29,2,14,0),m=(0,p.Z)(d,{days:30}),y=(d.valueOf()-m.valueOf())/1e3,g=function(e,t){var n;n="preEvent"===e.phase?Math.min(t*e.multiplier,y-e.time):t*e.multiplier,w(e,n),b(e,t),E(e,n),x(e,n),k(e,n)},w=function(e,t){if(e.time===y&&"preEvent"===e.phase)return e.phase="event",e.timers.event=0,e.timers.things=0,e.multiplier=1,void e.messages.push("You wake up in a wasteland. Where... when are you?");"event"!==e.phase&&"traveling"!==e.phase&&(e.time=e.time+t)},b=function(e,t){"event"===e.phase&&(e.timers.event+=t,e.timers.event>1e3&&(e.timers.event=0,e.phase="postEvent"))},E=function(e,t){var n=e.timers,r=e.phase;if("preEvent"===r){n.things+=t;var i=Math.floor(n.things/1e3);if(i){var a=Object.entries(e.upgrades).reduce((function(e,t){var n=h(t,2),a=n[0],o=n[1],u=s(a);return u.phase!==r?e:u.effect.things?u.effect.things(e,null!==o&&void 0!==o?o:0):i}),i);n.things=n.things%1e3,e.resources.things+=a}}},x=function(e,t){var n=e.timers,r=e.phase;if("postEvent"===r){n.things+=t;var i=Math.floor(n.things/1e3);if(i){var a=Object.entries(e.upgrades).reduce((function(e,t){var n=h(t,2),a=n[0],o=n[1],u=s(a);return u.phase!==r?e:u.effect.things?u.effect.things(e,null!==o&&void 0!==o?o:0):i}),i);n.things=n.things%1e3,e.resources.things=Math.max(e.resources.things-a,0)}}},k=function(e){"postEvent"===e.phase&&e.resources.things<=0&&(e.phase="traveling",e.multiplier=1,e.timers={event:0,things:0,action:0},e.messages.push("With your supplies gone, the only thing left is to send help to your past. With luck, you'll survive."))};function O(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){O(a,r,i,o,s,"next",e)}function s(e){O(a,r,i,o,s,"throw",e)}o(void 0)}))}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j="reconciliation_game",_="saved_game";l().config({version:1,name:j,storeName:j}),(0,c.vI)();var M=self;T(i().mark((function e(){var t,n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().getItem(_);case 2:return t=e.sent,e.abrupt("return",null!==t&&void 0!==t?t:a);case 4:case"end":return e.stop()}}),e)}))),e.next=3,t();case 3:n=e.sent,M.postMessage({type:"INITIAL",payload:n}),setInterval((function(){l().setItem(_,n)}),5e3),M.addEventListener("message",(function(e){var t=e.data,r=I((0,c.aS)(n,(function(e){if("RESET_GAME"===t.type)return l().removeItem(_),a;if("TRAVEL"!==t.type)return v(e,t);e.resources.things=0;var n=e.timeline;e.timeline=[],e.time=0,e.phase="preEvent",e.upgrades=Object.fromEntries(Object.entries(e.upgrades).filter((function(e){var t=I(e,1)[0];return"preEvent"!==s(t).phase})).map((function(e){var t=I(e,2);return[t[0],t[1]]})));var r=0,i=!0,o=!1,c=void 0;try{for(var f,p=n[Symbol.iterator]();!(i=(f=p.next()).done);i=!0){var h=f.value;if(Math.floor(h.time/(0,u.Z)(24))>=t.payload.day)break;g(e,h.time-r),v(e,h.action),r=h.time-r}}catch(d){o=!0,c=d}finally{try{i||null==p.return||p.return()}finally{if(o)throw c}}g(e,(0,u.Z)(24)*t.payload.day-r)})),2),i=r[0],o=r[1];n=i,o.length&&M.postMessage({type:"UPDATE",payload:o})})),r=void 0,(o=function(){var e=(new Date).valueOf();void 0===r&&(r=e);var t=e-r,i=I((0,c.aS)(n,(function(e){g(e,t)})),2),a=i[0],s=i[1];n=a,s.length&&M.postMessage({type:"UPDATE",payload:s}),r=e,requestAnimationFrame(o)})();case 10:case"end":return e.stop()}}),e)})))()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}},o=!0;try{e[r](a,a.exports,n),o=!1}finally{o&&delete t[r]}return a.exports}n.m=e,n.x=function(){var e=n.O(void 0,[29],(function(){return n(8997)}));return e=n.O(e)},function(){var e=[];n.O=function(t,r,i,a){if(!r){var o=1/0;for(f=0;f<e.length;f++){r=e[f][0],i=e[f][1],a=e[f][2];for(var s=!0,u=0;u<r.length;u++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(s=!1,a<o&&(o=a));if(s){e.splice(f--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var f=e.length;f>0&&e[f-1][2]>a;f--)e[f]=e[f-1];e[f]=[r,i,a]}}(),n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/chunks/"+e+".94e24a4aa7dac217.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/incremental-game-jam-2022/_next/",function(){var e={997:1};n.f.i=function(t,r){e[t]||importScripts(n.p+n.u(t))};var t=self.webpackChunk_N_E=self.webpackChunk_N_E||[],r=t.push.bind(t);t.push=function(t){var i=t[0],a=t[1],o=t[2];for(var s in a)n.o(a,s)&&(n.m[s]=a[s]);for(o&&o(n);i.length;)e[i.pop()]=1;r(t)}}(),function(){var e=n.x;n.x=function(){return n.e(29).then(e)}}();var r=n.x();_N_E=r}();