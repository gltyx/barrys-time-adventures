(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3104:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3961)}])},3961:function(e,n,t){"use strict";t.r(n),t.d(n,{Index:function(){return $},default:function(){return ee}});var r=t(4637),i=t(9496),a=t(8253),s=new Worker(new URL(t.p+t.u(997),t.b));(0,a.vI)();var l=t(7634),o=(0,l.k)(void 0),c=(0,i.createContext)(void 0),u=o.Provider,d=function(e){return(0,l.S)(o,e)},f=c.Provider,h=function(){return(0,i.useContext)(c)},m=t(9328),v=t(1626);function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var g=i.memo((function(e){var n=e.active,t=e.children,i=e.className,a=e.disabled,s=e.onClick,l=e.variant,o=void 0===l?"secondary":l,c=p(e,["active","children","className","disabled","onClick","variant"]);return(0,r.jsx)("button",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){x(e,n,t[n])}))}return e}({disabled:a,onClick:function(e){a||null===s||void 0===s||s(e)},className:(0,v.Z)("border border-gray-700 border-solid cursor-pointer px-3 relative",n&&"bg-blue-700 text-white","primary"===o&&"bg-blue-700 text-white","danger"===o&&"bg-red-900 text-white",a&&"opacity-50",i)},c,{children:t}))}));var y=function(){var e=h();return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Cheats: Multiplier"}),(0,r.jsx)(g,{onClick:function(){e({type:"SET_MULTIPLIER",payload:{multiplier:1}})},children:"x1"}),(0,r.jsx)(g,{onClick:function(){e({type:"SET_MULTIPLIER",payload:{multiplier:2}})},children:"x2"}),(0,r.jsx)(g,{onClick:function(){e({type:"SET_MULTIPLIER",payload:{multiplier:5}})},children:"x5"}),(0,r.jsx)(g,{onClick:function(){e({type:"SET_MULTIPLIER",payload:{multiplier:10}})},children:"x10"}),(0,r.jsx)(g,{onClick:function(){e({type:"SET_MULTIPLIER",payload:{multiplier:20}})},children:"x20"})]})},j=function(){var e=d((function(e){return e.messages})).slice(-3);return(0,r.jsx)("div",{className:"w-full p-4 text-gray-300 border",children:e.map((function(n,t){return(0,r.jsx)("p",{className:(0,v.Z)(t===e.length-2&&"text-gray-500",t===e.length-1&&"text-gray-900"),children:n},n)}))})},w=t(3683);function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(o){i=!0,a=o}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var N=function(e){var n=e.className,t=h(),i=b((0,w.Z)()({initial:"inactive",states:{inactive:{on:{RESET:"requiresConfirmation"}},requiresConfirmation:{on:{CONFIRM:"reset",CANCEL:"inactive"}},reset:{on:{INACTIVE:"inactive"},effect:function(e){t({type:"RESET_GAME"}),e("INACTIVE")}}}}),2),a=i[0],s=i[1];return(0,r.jsxs)("div",{className:n,children:["inactive"===a.value&&(0,r.jsx)(g,{variant:"danger",onClick:function(){s("RESET")},children:"Reset"}),"requiresConfirmation"===a.value&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{variant:"danger",onClick:function(){s("CONFIRM")},children:"Confirm Reset"}),(0,r.jsx)(g,{onClick:function(){s("CANCEL")},children:"Cancel"})]})]})},E=t(567),C=t(2863),k=t(1344),I=t(6955),A=t.n(I),T=new Date(1997,7,29,2,14,0),_=(0,E.Z)(T,{days:30}),S=function(e){var n=e.className,t=d((function(e){return e.time})),i=d((function(e){return e.stats.things})),a=(0,C.Z)((0,k.Z)(_,t),"MMMM d, yyyy hh:mm bb");return(0,r.jsxs)("div",{className:n,children:["It is ",a,".",(0,r.jsxs)("p",{children:["You have"," ",A()(i).format({thousandSeparated:!0})," ","things."]})]})},M=[{key:"upgradeThings",name:"Make things faster",description:"",max:100,costs:{things:function(e){return 10*e}},effect:{type:"add",things:function(e,n){return e*(n+1)}},flavorTexts:{1:"Set up something to make things faster."},requirements:{desperation:void 0,things:void 0}}],O=t(8462),Z=t(2699),L=(0,m.Z)(24),P=new Date(1997,7,29,2,14,0),R=(0,E.Z)(P,{days:30}),B=function(){var e=d((function(e){return e.timeline})),n=(0,i.useState)(void 0),t=n[0],a=n[1],s=(0,Z.groupBy)(e,(function(e){return Math.floor(e.time/L)})),l=void 0!==t?s[t]:void 0;return(0,r.jsxs)("div",{children:[(0,r.jsx)("ul",{children:(0,Z.range)(0,30).map((function(e){var n=s[e];return(0,r.jsx)(g,{onClick:function(){a(t!==e?e:void 0)},variant:n?"primary":"secondary",children:e},e)}))}),void 0!==l&&(0,r.jsx)("ul",{children:l.map((function(e){return(0,r.jsxs)("li",{children:[(0,C.Z)((0,O.Z)(R,{seconds:e.time/1e3}),"hh:mm bb")," ",D(e.action)]},e.time)}))})]})},D=function(e){switch(e.type){case"BUY_UPGRADE":return"Buy upgrade: ".concat(function(e){var n=M.find((function(n){return n.key===e}));if(!n)throw new Error("Could not find an upgrade with key: ".concat(e));return n}(e.payload.key).name)}},U=function(e){var n=e.className,t=d((function(e){return e.stats})),a=d((function(e){return e.upgrades})),s=h(),l=(0,i.useMemo)((function(){return M.filter((function(e){var n,r;return!(e.requirements.desperation&&e.requirements.desperation(null!==(n=a[e.key])&&void 0!==n?n:0)>t.desperation)&&!(e.requirements.things&&e.requirements.things(null!==(r=a[e.key])&&void 0!==r?r:0)>t.things)}))}),[a,t.desperation,t.things]);return(0,r.jsxs)("section",{className:(0,v.Z)("flex flex-col gap-2",n),children:[(0,r.jsx)("h2",{className:"sr-only",children:"Upgrades"}),l.map((function(e){var n,t=null!==(n=a[e.key])&&void 0!==n?n:0,i=e.flavorTexts[t];return(0,r.jsxs)("div",{className:"grid grid-cols-[auto,1fr] gap-x-2",children:[(0,r.jsxs)(g,{disabled:t===e.max,"aria-label":"Buy ".concat(e.name),onClick:function(){s({type:"BUY_UPGRADE",payload:{key:e.key}})},children:["Buy ",t>0&&"(".concat(t,")")]}),(0,r.jsx)("div",{children:e.name}),i&&(0,r.jsx)("p",{className:"col-start-2",children:i})]},e.key)}))]})},q=t(7189),F=t.n(q);function G(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(o){i=!0,a=o}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var X=function(e){var n=e.className;return(0,r.jsxs)("div",{className:(0,v.Z)("w-[80px] relative h-[400px] overflow-hidden",n),children:[(0,r.jsx)(V,{className:"absolute top-0 left-0 w-full h-full"}),(0,r.jsx)(Y,{className:"absolute top-0 left-0 w-full h-full"})]})},Y=function(e){var n=e.className,t=-(120*((d((function(e){return e.time}))%(0,m.Z)(24)/(0,m.Z)(1)-6)/6)-60);return(0,r.jsx)("div",{className:(0,v.Z)("flex items-center justify-center",n),style:{transform:"translate(25%, ".concat(t,"%)")},children:(0,r.jsx)("div",{className:"w-8 h-8 bg-yellow-300 rounded-full filter blur-md"})})},V=function(e){var n=e.children,t=e.className,i=d((function(e){return e.time})),a=G(H(i),2),s=a[0],l=a[1];return(0,r.jsx)("div",{className:(0,v.Z)("flex items-center justify-center",t),style:{background:"linear-gradient(".concat(l,", ").concat(s,")")},children:n})},H=function(e){var n,t=e%(0,m.Z)(24)/(0,m.Z)(1),r=Q.findIndex((function(e){return e.time>t})),i=Math.max(r-1,0),a=Math.min(i+1,Q.length-1),s=Q[i],l=Q[a];if(l.time===s.time)n=0;else{var o=l.time-s.time;n=(t-s.time)/o}return[F()(s.low,l.low,n),F()(s.high,l.high,n)]},Q=[{time:0,low:"#000000",high:"#000000"},{time:5,low:"#000000",high:"#000000"},{time:6,low:"#E67B09",high:"#112044"},{time:7,low:"#E79617",high:"#536875"},{time:8,low:"#FADA77",high:"#343E56"},{time:9,low:"#E2D7A9",high:"#343E61"},{time:10,low:"#ABC3BF",high:"#314C87"},{time:12,low:"#8DBACD",high:"#3A6DAE"},{time:18,low:"#6FACC7",high:"#085997"},{time:19,low:"#B59A6D",high:"#6C778A"},{time:20,low:"#42677B",high:"#3372A1"},{time:21,low:"#13203C",high:"#000924"},{time:22,low:"#000000",high:"#000000"},{time:24,low:"#000000",high:"#000000"}],W=t(4224),z=function(){var e=d((function(e){return e.time})),n=(0,i.useMemo)((function(){return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"grid py-4 mx-auto max-w-[1100px] grid-cols-[400px_1fr_60px]",style:{gridTemplateAreas:'\n            "status main window"\n            "timeline timeline timeline"\n            "messages messages messages"\n          '},children:[(0,r.jsxs)("aside",{className:"[grid-area:status]",children:[(0,r.jsx)(S,{className:"mb-3"}),!W.env.NEXT_DIASBLE_CHEATS&&(0,r.jsx)(y,{}),(0,r.jsx)(N,{})]}),(0,r.jsxs)("main",{className:"[grid-area:main]",children:[(0,r.jsx)("h2",{children:"Upgrades"}),(0,r.jsx)(U,{})]}),(0,r.jsx)(X,{className:"[grid-area:window] "}),(0,r.jsx)("div",{className:"[grid-area:messages]",children:(0,r.jsx)(j,{})}),(0,r.jsx)("div",{className:"[grid-area:timeline]",children:(0,r.jsx)(B,{})})]})})}),[]);return(0,r.jsx)("div",{className:e%(0,m.Z)(24)>(0,m.Z)(8)?"light":"dark",children:n})},J=(0,r.jsx)(z,{}),K=function(){var e=function(){var e=(0,i.useState)(void 0),n=e[0],t=e[1];s.onmessage=function(e){var r=e.data;"INITIAL"!==r.type?t((0,a.QE)(n,r.payload)):t(r.payload)};var r=(0,i.useCallback)((function(e){null===s||void 0===s||s.postMessage(e)}),[]);return(0,i.useMemo)((function(){return{dispatch:r,state:n}}),[r,n])}(),n=e.state,t=e.dispatch;return n?(0,r.jsx)(u,{value:n,children:(0,r.jsx)(f,{value:t,children:J})}):(0,r.jsx)("div",{children:"Loading..."})},$=function(){var e=(0,i.useState)(!1),n=e[0],t=e[1];return(0,i.useEffect)((function(){t(!0)}),[]),n?(0,r.jsx)(K,{}):(0,r.jsx)("div",{children:"Loading..."})},ee=$}},function(e){e.O(0,[201,418,774,888,179],(function(){return n=3104,e(e.s=n);var n}));var n=e.O();_N_E=n}]);